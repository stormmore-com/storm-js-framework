<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Watch list</title>
    <link rel="stylesheet" href="main.css">
    <script type="text/javascript" src="storm.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
</head>
<body>
    <div class="container">
        <header>
            <h1><a href="https://stormmore-com.github.io/StormJS-Framework/">StormJS Guide</a> - Watch list </h1>
        </header>
        <x-users-form>
            <input x-prop="username" type="text" placeholder="Username" x-enter-pressed="add"/>
            <button x-click="add">Add</button>
            <div x-list="items"></div>
        </x-users-form>
    </div>

<main>
    <script type="text/javascript">
        function UsernameComponent(self, username) {
            self.username = username;
            self.template =
                `<div class="todo-item">
                    <div x-prop="username"></div>
                </div>`;
        }
        function UsersForm(self) {
            self.items = new WatchList([$(UsernameComponent, "John")]);
            self.add = () => {
                if (!self.username) {
                    alert("Username is empty.");
                    return;
                }
                self.items.add($(UsernameComponent, self.username));
                self.username = "";
            }
        }
        $([UsersForm, UsernameComponent]);
    </script>
</main>
</body>
</html>